<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>index_.js - RDoc Documentation</title>

<link href="../../../../fonts.css" rel="stylesheet">
<link href="../../../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../../";
</script>

<script src="../../../../js/jquery.js"></script>
<script src="../../../../js/navigation.js"></script>
<script src="../../../../js/search_index.js"></script>
<script src="../../../../js/search.js"></script>
<script src="../../../../js/searcher.js"></script>
<script src="../../../../js/darkfish.js"></script>


<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../../../table_of_contents.html#pages">Pages</a>
    <a href="../../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../../../Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../../../LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li><a href="../../../../README_rdoc.html">README</a>
  
    <li><a href="../../../../Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../app/assets/javascripts/coupons/edit_js.html">edit.js</a>
  
    <li><a href="../../../../app/assets/javascripts/coupons/index__js.html">index_.js</a>
  
    <li><a href="../../../../app/assets/javascripts/coupons/shared_js.html">shared.js</a>
  
    <li><a href="../../../../app/assets/javascripts/imgpreview_full_jquery_js.html">imgpreview.full.jquery.js</a>
  
    <li><a href="../../../../app/assets/javascripts/jquery_jqzoom-core_js.html">jquery.jqzoom-core.js</a>
  
    <li><a href="../../../../app/assets/javascripts/jquery_serialize-object_js.html">jquery.serialize-object.js</a>
  
    <li><a href="../../../../app/assets/javascripts/menus/show_products_type_js.html">show_products_type.js</a>
  
    <li><a href="../../../../app/assets/javascripts/orders/enter_order_js.html">enter_order.js</a>
  
    <li><a href="../../../../app/assets/javascripts/orders/index__js.html">index_.js</a>
  
    <li><a href="../../../../app/assets/javascripts/orders/order_success_js.html">order_success.js</a>
  
    <li><a href="../../../../app/assets/javascripts/orders/user_orders_js.html">user_orders.js</a>
  
    <li><a href="../../../../app/assets/javascripts/product_related_products_js.html">product_related_products.js</a>
  
    <li><a href="../../../../app/assets/javascripts/products/coupon_settings_js.html">coupon_settings.js</a>
  
    <li><a href="../../../../app/assets/javascripts/products/edit_js.html">edit.js</a>
  
    <li><a href="../../../../app/assets/javascripts/products/index__js.html">index_.js</a>
  
    <li><a href="../../../../app/assets/javascripts/products/product_preferences_js.html">product_preferences.js</a>
  
    <li><a href="../../../../app/assets/javascripts/products/shared_js.html">shared.js</a>
  
    <li><a href="../../../../app/assets/javascripts/silverweb_ecom_js.html">silverweb_ecom.js</a>
  
    <li><a href="../../../../app/assets/javascripts/site/check_out_js.html">check_out.js</a>
  
    <li><a href="../../../../app/assets/javascripts/site/live_search_js.html">live_search.js</a>
  
    <li><a href="../../../../app/assets/javascripts/site/product_detail_js.html">product_detail.js</a>
  
    <li><a href="../../../../app/assets/javascripts/site/show_products_js.html">show_products.js</a>
  
    <li><a href="../../../../app/assets/javascripts/site/show_products_with_page_js.html">show_products_with_page.js</a>
  
    <li><a href="../../../../app/assets/javascripts/site/store_locator_js.html">store_locator.js</a>
  
    <li><a href="../../../../app/assets/javascripts/vendors/vendor_list_js.html">vendor_list.js</a>
  
    <li><a href="../../../../app/assets/stylesheets/customers_css.html">customers.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/jquery_jqzoom_scss.html">jquery.jqzoom.scss</a>
  
    <li><a href="../../../../app/assets/stylesheets/orders_css.html">orders.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/orders/index__css.html">index_.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/orders/user_orders_css.html">user_orders.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/product_related_products_css.html">product_related_products.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/products_css.html">products.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/products/edit_css.html">edit.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/products/product_list_scss.html">product_list.scss</a>
  
    <li><a href="../../../../app/assets/stylesheets/retailers_css.html">retailers.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/scaffold_css.html">scaffold.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/silverweb_ecom_css.html">silverweb_ecom.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/site/check_out_css.html">check_out.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/site/product_detail-horizontal_css.html">product_detail-horizontal.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/site/product_detail_css.html">product_detail.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/site/show_products_css.html">show_products.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/site/show_products_with_page_css.html">show_products_with_page.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/site/show_products_with_page_mm_css.html">show_products_with_page_mm.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/site/store_locator_css.html">store_locator.css</a>
  
    <li><a href="../../../../app/assets/stylesheets/vendors_css.html">vendors.css</a>
  
    <li><a href="../../../../app/mailers/user_notifier_old_rb_orig.html">user_notifier_old.rb.orig</a>
  
    <li><a href="../../../../app/views/products/delete_image_rjs.html">delete_image.rjs</a>
  
    <li><a href="../../../../app/views/site/product_index_feed_atom_builder.html">product_index_feed.atom.builder</a>
  
    <li><a href="../../../../lib/tasks/image_tasks_rake.html">image_tasks.rake</a>
  
    <li><a href="../../../../lib/tasks/silverweb_ecom_tasks_rake.html">silverweb_ecom_tasks.rake</a>
  
    <li><a href="../../../../nbproject/private/config_properties.html">config.properties</a>
  
    <li><a href="../../../../nbproject/private/private_properties.html">private.properties</a>
  
    <li><a href="../../../../nbproject/private/private_xml.html">private.xml</a>
  
    <li><a href="../../../../nbproject/private/rake-d_txt.html">rake-d</a>
  
    <li><a href="../../../../nbproject/project_properties.html">project.properties</a>
  
    <li><a href="../../../../nbproject/project_xml.html">project.xml</a>
  
    <li><a href="../../../../silverweb_ecom_gemspec.html">silverweb_ecom.gemspec</a>
  
    <li><a href="../../../../test/dummy/README_rdoc.html">README</a>
  
    <li><a href="../../../../test/dummy/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../test/dummy/app/assets/javascripts/application_js.html">application.js</a>
  
    <li><a href="../../../../test/dummy/app/assets/stylesheets/application_css.html">application.css</a>
  
    <li><a href="../../../../test/dummy/config_ru.html">config.ru</a>
  
    <li><a href="../../../../test/dummy/public/404_html.html">404.html</a>
  
    <li><a href="../../../../test/dummy/public/422_html.html">422.html</a>
  
    <li><a href="../../../../test/dummy/public/500_html.html">500.html</a>
  
    <li><a href="../../../../test/dummy/public/favicon_ico.html">favicon.ico</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page app/assets/javascripts/orders/index_.js">

<p>var orderTableAjax = “”; var orders_index_callDocumentReady_called = false;</p>

<p>$(document).ready(function () {</p>

<pre>if (!orders_index_callDocumentReady_called)
{
    orders_index_callDocumentReady_called = true;
    if ($(&quot;#as_window&quot;).text() == &quot;true&quot;)
    {
        //  alert(&quot;it is a window&quot;);
    }
    else
    {
        orders_index_callDocumentReady();
    }
}</pre>

<p>});</p>

<p>function orders_index_callDocumentReady() {</p>

<pre>requireCss(&quot;tables.css&quot;);

$(&quot;body&quot;).css(&quot;cursor&quot;, &quot;progress&quot;);

createOrderTable();

$(&quot;body&quot;).css(&quot;cursor&quot;, &quot;default&quot;);

$(&quot;a.button-link&quot;).button();</pre>

<p>}</p>

<p>function emailOrder(order_id) {</p>

<pre>var answer = confirm(&#39;Are you sure you want to resend this invoice?&#39;)
if (answer) {
    $.ajax({
        url: &#39;/orders/resend_invoice?order_id=&#39; + order_id,
        success: function (data)
        {
            setUpPurrNotifier(&quot;Notice&quot;, &quot;Invoice Successfully Resent.&quot;);
            orderTableAjax.draw();

        }
    });

}</pre>

<p>}</p>

<p>function viewOrderDialog() {</p>

<pre>$(&#39;#edit-order-dialog&#39;).dialog({
    autoOpen: false,
    width: 455,
    height: 625,
    modal: true,
    buttons: {
        &quot;Delete&quot;: function () {
            order_id = $(&quot;.m-content div#order-id&quot;).text().trim();
            if (confirm(&quot;Are you sure you want to delete this order?&quot;))

            {
                $(this).dialog(&quot;close&quot;);

                $.ajax({
                    url: &#39;/orders/delete_ajax?id=&#39; + order_id,
                    success: function (data)
                    {
                        orderTableAjax.draw();
                    }
                });
            }
            else
            {

            }
        },
        &quot;Ok&quot;: function () {
            $(this).dialog(&quot;close&quot;);
            orderTableAjax.draw();
        }
    }

});</pre>

<p>}</p>

<p>function createOrderTable() {</p>

<pre>console.log(&quot;create table&quot;);
orderTableAjax = $(&#39;#order-table&#39;).DataTable({
    pageLength: 25,
    lengthMenu: [[25, 50, 100], [25, 50, 100]],
    stateSave: true,
    stateDuration: 0,
    stateSaveCallback: function (settings, data) {
        localStorage.setItem(&#39;DataTables_orders_&#39; + window.location.pathname, JSON.stringify(data));
    },
    stateLoadCallback: function (settings) {
        return JSON.parse(localStorage.getItem(&#39;DataTables_orders_&#39; + window.location.pathname));
    },
    processing: true,
    order: [[0, &quot;asc&quot;]],
    serverSide: true,
    searchDelay: 500,
    ajax: {
        url: &quot;/orders/order_table&quot;,
        type: &quot;post&quot;
    },
    rowCallback: function (row, data, index) {
        $(row).addClass(&#39;order-row&#39;);
        $(row).addClass(&#39;gradeA&#39;);
        //return row;
    },
    initComplete: function () {
        // $(&quot;.best_in_place&quot;).best_in_place(); 

    },
    drawCallback: function (settings) {

        bindEmailOrder();
        bindViewOrder();
        $(&quot;td.dataTables_empty&quot;).attr(&quot;colspan&quot;, &quot;20&quot;)

    }</pre>

<p>//        , //        columns: [ //            {width: &#39;100&#39;}, //  
{width: &#39;600&#39;}, //            {width: &#39;75&#39;}, //           
{width: &#39;75&#39;}, //            {width: &#39;25&#39;}, //           
{width: &#39;25&#39;} //        ]</p>

<p>//        ,“iDisplayLength”: 25, //        “aLengthMenu”: [[25, 50, 100],
[25, 50, 100]], //        “bStateSave”: true, //        “fnStateSave”:
function (oSettings, oData) { //           
localStorage.setItem(&#39;DataTables_orders_&#39; +
window.location.pathname, JSON.stringify(oData)); //        }, //       
“fnStateLoad”: function (oSettings) { //            return
JSON.parse(localStorage.getItem(&#39;DataTables_orders_&#39; +
window.location.pathname)); //        }, //        “bProcessing”: true, // 
“bServerSide”: true, //        “aaSorting”: [[1, “asc”]], //       
“sAjaxSource”: “/orders/order_table”, //        “fnRowCallback”: function
(nRow, aData, iDisplayIndex, iDisplayIndexFull) { //           
$(nRow).addClass(&#39;order-row&#39;); //           
$(nRow).addClass(&#39;gradeA&#39;); //            return nRow; //        },
//        “fnInitComplete”: function () { //            //
$(“.best_in_place”).best_in_place();  // //        }, //       
“fnDrawCallback”: function () { //           
$(“.best_in_place”).best_in_place(); //           
//ordereditClickBinding(“.edit-order-item”); //           
bindEmailOrder(); //            bindViewOrder(); ////bindDeleteOrder(); // 
}</p>

<pre>});</pre>

<p>}</p>

<p>function bindEmailOrder() {</p>

<pre>$(&quot;.email-order-item&quot;).off(&quot;click&quot;).on(&quot;click&quot;, function (e) {

    console.log($(this).parent().parent().parent().find(&#39;#order-id&#39;).text());
    var order_id = $(this).parent().parent().parent().find(&#39;#order-id&#39;).text();
    emailOrder(order_id);
    return false;
});</pre>

<p>}</p>

<p>function bindViewOrder() {</p>

<pre>$(&quot;.view-order-item&quot;).off(&quot;click&quot;).on(&quot;click&quot;, function (e) {

    // console.log($(this).parent().parent().parent().find(&#39;#order-id&#39;).text());
    var order_id = $(this).parent().parent().parent().find(&#39;#order-id&#39;).text();
    orderviewClickBinding(order_id);
    return false;
});</pre>

<p>}</p>

<p>function orderviewClickBinding(order_id) {</p>

<pre>var url = &#39;/orders/show?id=&#39; + order_id + &#39;&amp;request_type=window&amp;window_type=iframe&amp;as_window=true&#39;;

// $(this).effect(&quot;highlight&quot;, {color: &quot;#669966&quot;}, 1000);

$.ajax({
    url: url,
    success: function (data)
    {
        order_edit_dialog = createAppDialog(data, &quot;edit-order&quot;, {}, &quot;&quot;);
        order_edit_dialog.dialog({
            close: function (event, ui) {
                $(&#39;#edit-order&#39;).html(&quot;&quot;);
                $(&#39;#edit-order&#39;).dialog(&quot;destroy&quot;);
            }
        });

    }
});</pre>

<p>} ;</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="http://rdoc.rubyforge.org">RDoc</a> 4.1.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

